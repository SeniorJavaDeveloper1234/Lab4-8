<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN">

    <Appenders>

        <File name="FileLogger" fileName="logs/app.log" append="true">
            <PatternLayout pattern="[%d{yyyy-MM-dd HH:mm:ss}] %-5level %logger{36} - %msg%n"/>
        </File>


        <SMTP name="EmailLogger"
              to="volodymyr.varhas.oi.2024@lpnu.ua"
              from="volodymyr.varhas.oi.2024@lpnu.ua"
              subject="CRITICAL ERROR in Deposit System"
              smtpHost="smtp.gmail.com"
              smtpPort="587"
              smtpUsername="volodymyr.varhas.oi.2024@lpnu.ua"
              smtpPassword="ТВІЙ_APP_PASSWORD"
              smtpProtocol="smtp"
              bufferSize="512"
              ignoreExceptions="false">

            <PatternLayout pattern="[%d{yyyy-MM-dd HH:mm:ss}] %-5level %logger{36} - %msg%n%throwable"/>

        </SMTP>

    </Appenders>


    <Loggers>

        <Root level="info">
            <AppenderRef ref="FileLogger"/>

            <AppenderRef ref="EmailLogger" level="error"/>
        </Root>

    </Loggers>

</Configuration>
